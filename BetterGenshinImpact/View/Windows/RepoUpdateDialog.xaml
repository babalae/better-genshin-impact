<ui:FluentWindow x:Class="BetterGenshinImpact.View.Windows.RepoUpdateDialog"
                 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                 xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                 xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                 xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
                 xmlns:behavior="clr-namespace:BetterGenshinImpact.View.Behavior"
                 Width="520"
                 Height="280"
                 MinWidth="400"
                 MinHeight="240"
                 ui:Design.Background="{DynamicResource ApplicationBackgroundBrush}"
                 ui:Design.Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                 ExtendsContentIntoTitleBar="True"
                 behavior:AutoTranslateInterceptor.EnableAutoTranslate="True"
                 FontFamily="{DynamicResource TextThemeFontFamily}"
                 ResizeMode="NoResize"
                 WindowBackdropType="Auto"
                 WindowStartupLocation="CenterOwner"
                 WindowStyle="SingleBorderWindow"
                 mc:Ignorable="d">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!-- 标题栏 -->
        <ui:TitleBar Grid.Row="0"
                     Title="{Binding Title, RelativeSource={RelativeSource AncestorType=Window}}"
                     ShowMaximize="False"
                     ShowMinimize="False">
            <ui:TitleBar.Icon>
                <ui:ImageIcon Source="pack://application:,,,/Resources/Images/logo.png" />
            </ui:TitleBar.Icon>
        </ui:TitleBar>

        <!-- 内容区域 -->
        <Grid Grid.Row="1" Margin="24,12,24,12">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>

            <!-- 图标 -->
            <ui:SymbolIcon Grid.Column="0"
                          Symbol="Warning24"
                          FontSize="48"
                          Foreground="{DynamicResource SystemFillColorAttentionBrush}"
                          VerticalAlignment="Center"
                          Margin="0,0,16,0" />

            <!-- 消息内容 -->
            <ui:TextBlock Grid.Column="1"
                         x:Name="MessageTextBlock"
                         TextAlignment="Left"
                         TextWrapping="Wrap"
                         FontSize="14"
                         VerticalAlignment="Center"
                         Foreground="{DynamicResource TextFillColorPrimaryBrush}" />
        </Grid>

        <!-- 按钮区域 -->
        <StackPanel Grid.Row="2" 
                    Orientation="Horizontal"
                    HorizontalAlignment="Center"
                    Margin="24,0,24,24">

            <!-- 立即更新按钮 -->
            <ui:Button x:Name="PrimaryButton"
                      Content="立即更新"
                      Appearance="Primary"
                      MinWidth="100"
                      Margin="0,0,8,0"
                      Click="PrimaryButton_Click" />

            <!-- 直接打开按钮 -->
            <ui:Button x:Name="SecondaryButton"
                      Content="直接打开"
                      Appearance="Secondary"
                      MinWidth="100"
                      IsEnabled="False"
                      Click="SecondaryButton_Click" />
        </StackPanel>
    </Grid>
</ui:FluentWindow>
