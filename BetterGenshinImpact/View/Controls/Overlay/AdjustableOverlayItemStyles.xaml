<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:overlay="clr-namespace:BetterGenshinImpact.View.Controls.Overlay">

    <ControlTemplate x:Key="OverlayTransparentThumbTemplate" TargetType="{x:Type Thumb}">
        <Border Background="Transparent" />
    </ControlTemplate>

    <SolidColorBrush x:Key="OverlayEditBackgroundBrush" Color="#FFFFFF" Opacity="0.55" />

    <Style TargetType="{x:Type overlay:AdjustableOverlayItem}">
        <Setter Property="MinWidth" Value="80" />
        <Setter Property="MinHeight" Value="24" />
        <Setter Property="HorizontalContentAlignment" Value="Stretch" />
        <Setter Property="VerticalContentAlignment" Value="Stretch" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type overlay:AdjustableOverlayItem}">
                    <Grid>
                        <Border x:Name="PART_Container"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="4"
                                ClipToBounds="True">
                            <ContentPresenter Margin="{TemplateBinding Padding}"
                                              HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                              VerticalAlignment="{TemplateBinding VerticalContentAlignment}" />
                        </Border>

                        <Thumb x:Name="PART_MoveThumb"
                               Template="{StaticResource OverlayTransparentThumbTemplate}"
                               Background="Transparent"
                               Cursor="SizeAll"
                               Visibility="Collapsed" />

                        <Thumb x:Name="PART_ResizeThumbTop"
                               Template="{StaticResource OverlayTransparentThumbTemplate}"
                               Height="6"
                               VerticalAlignment="Top"
                               Cursor="SizeNS"
                               Visibility="Collapsed" />
                        <Thumb x:Name="PART_ResizeThumbBottom"
                               Template="{StaticResource OverlayTransparentThumbTemplate}"
                               Height="6"
                               VerticalAlignment="Bottom"
                               Cursor="SizeNS"
                               Visibility="Collapsed" />
                        <Thumb x:Name="PART_ResizeThumbLeft"
                               Template="{StaticResource OverlayTransparentThumbTemplate}"
                               Width="6"
                               HorizontalAlignment="Left"
                               Cursor="SizeWE"
                               Visibility="Collapsed" />
                        <Thumb x:Name="PART_ResizeThumbRight"
                               Template="{StaticResource OverlayTransparentThumbTemplate}"
                               Width="6"
                               HorizontalAlignment="Right"
                               Cursor="SizeWE"
                               Visibility="Collapsed" />

                        <Thumb x:Name="PART_ResizeThumbTopLeft"
                               Template="{StaticResource OverlayTransparentThumbTemplate}"
                               Width="10"
                               Height="10"
                               HorizontalAlignment="Left"
                               VerticalAlignment="Top"
                               Cursor="SizeNWSE"
                               Visibility="Collapsed" />
                        <Thumb x:Name="PART_ResizeThumbTopRight"
                               Template="{StaticResource OverlayTransparentThumbTemplate}"
                               Width="10"
                               Height="10"
                               HorizontalAlignment="Right"
                               VerticalAlignment="Top"
                               Cursor="SizeNESW"
                               Visibility="Collapsed" />
                        <Thumb x:Name="PART_ResizeThumbBottomLeft"
                               Template="{StaticResource OverlayTransparentThumbTemplate}"
                               Width="10"
                               Height="10"
                               HorizontalAlignment="Left"
                               VerticalAlignment="Bottom"
                               Cursor="SizeNESW"
                               Visibility="Collapsed" />
                        <Thumb x:Name="PART_ResizeThumbBottomRight"
                               Template="{StaticResource OverlayTransparentThumbTemplate}"
                               Width="10"
                               Height="10"
                               HorizontalAlignment="Right"
                               VerticalAlignment="Bottom"
                               Cursor="SizeNWSE"
                               Visibility="Collapsed" />

                        <Rectangle x:Name="PART_EditOutline"
                                   IsHitTestVisible="False"
                                   RadiusX="4"
                                   RadiusY="4"
                                   Stroke="{DynamicResource TextFillColorSecondaryBrush}"
                                   StrokeDashArray="3 2"
                                   StrokeThickness="1"
                                   Visibility="Collapsed" />
                    </Grid>

                    <ControlTemplate.Triggers>
                        <Trigger Property="IsEditEnabled" Value="True">
                            <Setter TargetName="PART_Container" Property="Background" Value="{StaticResource OverlayEditBackgroundBrush}" />
                            <Setter TargetName="PART_EditOutline" Property="Visibility" Value="Visible" />
                            <Setter TargetName="PART_MoveThumb" Property="Visibility" Value="Visible" />
                            <Setter TargetName="PART_ResizeThumbTop" Property="Visibility" Value="Visible" />
                            <Setter TargetName="PART_ResizeThumbBottom" Property="Visibility" Value="Visible" />
                            <Setter TargetName="PART_ResizeThumbLeft" Property="Visibility" Value="Visible" />
                            <Setter TargetName="PART_ResizeThumbRight" Property="Visibility" Value="Visible" />
                            <Setter TargetName="PART_ResizeThumbTopLeft" Property="Visibility" Value="Visible" />
                            <Setter TargetName="PART_ResizeThumbTopRight" Property="Visibility" Value="Visible" />
                            <Setter TargetName="PART_ResizeThumbBottomLeft" Property="Visibility" Value="Visible" />
                            <Setter TargetName="PART_ResizeThumbBottomRight" Property="Visibility" Value="Visible" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

</ResourceDictionary>
